---
title: "Ropsten 0 4 25 Migration"
category: "kb"
---

# Ropsten 0.4.25 migration addresses
all new addresses because of different compiler and verification

## set up the base contracts
```
Authority 0xa3e2b5d2a028c0e844361700bb4ff0ad2fc88b56
baseContracts['Authority'].setWhitelister(accounts[0], true)

DragoRegistry(authorityAddress) 0x4e868d1ddf940316964ea7673e21be6cbed8b30b


VaultEventful 0x14c2979743cfe3451aca0c98fd7b7df4c5a64413

authority.setVaultEventful(vaultEventful.address)


VaultFactory(registry, dao (accounts(0) ,authority) 0x7ef0318465397a85ffe48aeaae82a5ccb247abab

authority.whitelistFactory(vaultFactoryAddress, true) //for blacklisting input 0


DragoEventful 0x8780004dc7f9508602a08398830c433a0483b058

authority.setDragoEventful(dragoEventful.address) 


DragoFactory(registry, accounts(0), authority) 0xe4c028a19dea70fb15d7d56c6e5779e363f685d0

authority.whitelistFactory(dragoFactory.address, true)


ExchangesAuthority 0x68b8f6f03a4dae4cd052a7c38ffff20d724673e9

authority.setExchangesAuthority(exchangesAuthority.address)

exchangesAuthority.setWhitelister(baseAccount, true)
```



## Ethfinex 0x fork which accepts signatures from dragos wizards

```

ExchangeEfx 0x1d8643aae25841322ecde826862a9fa922770981

exchangesAuthority.whitelistExchange(exchangeEfx.address, true)

tokentransferproxy automatically generated by exchangeEfx 0xEEA64EeBd1F2Dc273cfC79CbDda23b69C6b5588D


AEthfinex 0x8124c1a18b172e2d2eba06a2c06189c7a542f9ee

exchangesAuthority.setExchangeAdapter(
    exchangeEfx.address,
    aEthfinex.address
  )
```  


## wrapper addresses (we are signers as well, since we deployed them)
```
ETH token 0x0000000000000000000000000000000000000000

ETH wrapper 0x06da2eb72279c1cec53c251bbff4a06fbfb93a5b


GRG token 0x6FA8590920c5966713b1a86916f7b0419411e474
etherscan verified GRG 0x8DCde2ea008D0e831E80f00100712D4D8f41eB35 (we keep using the old on ropsten)

GRG wrapper 0xacfb4c79259e3c2c1bf054f136e6d75f7cc2b07e


USDT token 0x0736d0c130b2eAD47476cC262dbed90D7C4eeABD

USDT wrapper 0x84442a4518126ed25a548fe3392f6021e3ccd5bb


// set signers on token wrappers

0xc8dcd42e846466f2d2b89f3c54eba37bf738019b

0x9faf5515f177F3A8a845D48C19032b33Cc54C09C (this is the ethfinex taker/signer account)

0x14d06788090769F669427B6AEA1c0240d2321f34 (this is an ethfinex account)

```


## for wrappers

```
baseContracts['ExchangesAuthority'].whitelistWrapper(tokenWrapper, true)

baseContracts['ExchangesAuthority'].whitelistTokenOnWrapper(
        tokenAddress,
        tokenWrapper,
        true
        
        
for signature hash whitelisting

methodSignature = await web3.eth.abi.encodeFunctionSignature(methodInterface)
```

## whitelist method on adapter  byte4(keccak256(method))
```
ExchangesAuthority.whitelistMethod(methodSignature, ethfinexAdapterAddress, true)


wrapToEfx 0x236fb132
unwrap 0x4e5b60f4
```

## AWeth 0x1438dcfbbe574b365fb113b740c60e6239dd3166
```
"0x70623508": "unwrapEth(address,uint256)",
"0xb3bc1a13": "wrapEth(address,uint256)"
```

## in order to wrap some tokens, must send tokens to a drago, so he can forward alt must swap and then wrap

baseContracts['RigoToken'].transfer(dragoAddress, GRGtokensAmount)

```
NavVerifier 0x77643f5787a3ba83756a4df93697b8f615f5368d

authority.setNavVerifier(navVerifier.address)


SigVerifier 0xf98b7d61bb4e28335a5f3e05e3e4b60ae82f1758

exchangesAuthority.setSignatureVerifier(sigVerifier.address)
```

## then update the addresses in the parity registry to upgrade the application:
NOTE: addresses have not been updated in the registry yet. Plus deprecating parity registry.

```

authority

dragoeventful

dragofactory

dragoregistry

vaulteventful

vaultfactory
```

## WETH9
```

address: '0xc778417e063141139fce010982780140aa0cd5ab'

exchangesAuthority.whitelistWrapper(wETH9.address, true)


Aweth(authority.address) 0x1438dcfbbe574b365fb113b740c60e6239dd3166

exchangesAuthority.setExchangeAdapter(wETH9.address, aWeth.address)
```

and we whitelist the Ether wrapper
//allowed method on adapter, allowed wrapper, allowed token on wrapper

## TokenTransferProxy
0x v2 which allows to swap ERC20 tokens for a manager

```
exchangesAuthority.whitelistTokenTransferProxy(
    tokenTransferProxy.address,
    true
  )
  
our tokentransferproxy: 
our 0x v2 (manager): 
```
